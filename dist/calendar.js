!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{calendarInit:()=>o});const n={zh:{months:{1:"一月",2:"二月",3:"三月",4:"四月",5:"五月",6:"六月",7:"七月",8:"八月",9:"九月",10:"十月",11:"十一月",12:"十二月"},weeks:{1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"},cancelText:"取消",confirmText:"确认"},en:{months:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},weeks:{1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat",7:"Sun"},cancelText:"Cancel",confirmText:"Confirm"}};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e,t,n){var c;return c=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var c=n.call(e,t||"default");if("object"!=a(c))return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==a(c)?c:String(c))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(e){e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({lang:"zh",type:"date",maskClosable:!0,minYear:(new Date).getFullYear()-15,maxYear:(new Date).getFullYear()+4},e);var t=n[e.lang],a=document.body||document.querySelector("body"),o=document.querySelector(e.target);o.setAttribute("readonly","readonly");var i=new Date(o.value||new Date),d=i.getFullYear(),s=i.getMonth()+1,l=i.getDate(),m=i.getHours(),u=i.getMinutes(),p=i.getSeconds(),v=function(e,t){var n=new Date(e,t-1,1);return n.setMonth(n.getMonth()+1),n.setDate(0),n.getDate()},y=function(t){for(var n=function(n){var c=document.createElement("div");c.classList.add("item-day");var r=document.createElement("span");r.innerText=n,t.classNames&&r.classList.add(t.classNames),l===n&&d===t.year&&s===t.month&&r.classList.add("active"),r.addEventListener("click",(function(){l=n,d=t.year,s=t.month;var c=document.querySelector(".item-day .active");c&&c.classList.remove("active"),this.classList.add("active"),e.dayChange&&e.dayChange("".concat(d,"-").concat(s<10?"0".concat(s):s,"-").concat(l<10?"0".concat(l):l)),"date"===e.type&&(o.value="".concat(d,"-").concat(s<10?"0".concat(s):s,"-").concat(l<10?"0".concat(l):l),a.removeChild(t.dCalendar))})),c.appendChild(r),t.parentElem.appendChild(c)},c=t.startDay;c<=t.endDay;c++)n(c)},f=function(e,n,a,c){e.innerHTML='<div class="d-calendar-week"><span>'.concat(t.weeks[1],"</span><span>").concat(t.weeks[2],"</span><span>").concat(t.weeks[3],"</span><span>").concat(t.weeks[4],"</span><span>").concat(t.weeks[5],"</span><span>").concat(t.weeks[6],"</span><span>").concat(t.weeks[7],"</span></div>"),function(e,t,n,a){var c=new Date(n,a-1,1).getDay(),r=1===a?n-1:n,o=1===a?12:a-1,i=v(r,o);1!==c&&y({parentElem:e,dCalendar:t,startDay:i-(0===c?5:c-2),endDay:i,year:r,month:o,classNames:"prev"})}(e,n,a,c);var r=v(a,c);y({parentElem:e,dCalendar:n,startDay:1,endDay:r,year:d,month:s}),function(e,t,n,a){var c=new Date(n,a-1,1).getDay(),r=v(n,a);y({parentElem:e,dCalendar:t,startDay:1,endDay:42-r-(0===c?6:c-1),year:12===a?n+1:n,month:12===a?1:a+1,classNames:"next"})}(e,n,a,c)},h=function(n,c,r){n.innerHTML="";for(var i=function(i){var l=document.createElement("div");l.classList.add("item-month");var m=document.createElement("span");m.innerText="".concat(t.months[i]),s===i&&m.classList.add("active"),m.addEventListener("click",(function(){s=i,r.innerText="".concat(t.months[s]);var l=document.querySelector(".item-month .active");l&&l.classList.remove("active"),this.classList.add("active"),"month"===e.type&&(o.value="".concat(d,"-").concat(s<10?"0".concat(s):s),a.removeChild(c)),e.monthChange&&e.monthChange("".concat(d,"-").concat(s<10?"0".concat(s):s)),["date","date-time"].includes(e.type)&&f(n,c,d,s)})),l.appendChild(m),n.appendChild(l)},l=1;l<=12;l++)i(l)},b=function(t,n,c,r,i,l){t.innerHTML="";for(var m=function(i){var l=document.createElement("div");l.classList.add("item-year");var m=document.createElement("span");m.innerText=i,d===i&&m.classList.add("active"),m.addEventListener("click",(function(){d=i,c.innerText="".concat(d);var l=document.querySelector(".item-year .active");l&&l.classList.remove("active"),this.classList.add("active"),"year"===e.type&&(o.value="".concat(d),a.removeChild(n)),e.yearChange&&e.yearChange("".concat(d)),"month"===e.type&&h(t,n,r),["date","date-time"].includes(e.type)&&f(t,n,d,s)})),l.appendChild(m),t.appendChild(l)},u=i;u<=l;u++)m(u)},g=function(e,t,n,a){var c=document.createElement("div");c.classList.add("list");for(var r=0;r<t;r++){var o=document.createElement("div");o.classList.add("list-item"),o.innerText=r<10?"0".concat(r):r,c.appendChild(o)}c.style="transform: translateY(".concat(40*(1-n),"px);"),function(e,t,n,a,c){var r,o,i,d;e.addEventListener("touchstart",(function(e){r=e.touches[0].pageX,o=e.touches[0].pageY}),!1),e.addEventListener("touchmove",(function(c){var s=c.touches[0].pageX,l=c.touches[0].pageY;i=s-r,d=l-o,Math.abs(i)<=Math.abs(d)&&((a+=d)>n&&(a=n),a<(2-t)*n&&(a=(2-t)*n),e.style="transform: translateY(".concat(a,"px);"))}),!1),e.addEventListener("touchend",(function(t){a=Math.round(a/n)*n,e.style="transform: translateY(".concat(a,"px);"),r=o=i=d=0,c&&c(Math.abs(Math.round(a/n)-1))}),!1)}(c,t,40,40*(1-n),a),e.appendChild(c)};o.addEventListener("click",(function(){var n=document.createElement("div");n.classList.add("d-calendar");var c=document.createElement("div");c.classList.add("d-calendar-mask"),e.maskClosable&&c.addEventListener("click",(function(){a.removeChild(n)})),n.appendChild(c);var r=document.createElement("div");r.classList.add("d-calendar-container"),n.appendChild(r);var i=document.createElement("div");if(i.classList.add("d-calendar-header"),r.appendChild(i),["year","month","date"].includes(e.type)){var v=document.createElement("span");v.classList.add("d-calendar-close"),v.addEventListener("click",(function(){a.removeChild(n)})),i.appendChild(v)}if(["year","month","date","date-time"].includes(e.type)){var y=document.createElement("span");y.classList.add("d-calendar-year"),y.innerText="".concat(d),y.addEventListener("click",(function(){b(L,n,this,C,e.minYear,e.maxYear)})),"en"!==e.lang&&i.appendChild(y);var C=document.createElement("span");"year"!==e.type&&(C.classList.add("d-calendar-month"),C.innerText="".concat(t.months[s]),C.addEventListener("click",(function(){h(L,n,this)})),i.appendChild(C)),"en"===e.lang&&i.appendChild(y);var L=document.createElement("div");L.classList.add("d-calendar-content"),r.appendChild(L),"year"===e.type&&b(L,n,this,C,e.minYear,e.maxYear),"month"===e.type&&h(L,n,C),["date","date-time"].includes(e.type)&&f(L,n,d,s)}["time","date-time"].includes(e.type)&&function(n,c){var r=document.createElement("div");r.classList.add("d-calendar-time"),g(r,24,m,(function(e){m=e})),g(r,60,u,(function(e){u=e})),g(r,60,p,(function(e){p=e}));var i=document.createElement("div");i.classList.add("d-calendar-footer");var v=document.createElement("button");v.classList.add("button-close"),v.innerText=e.cancelText||t.cancelText,v.addEventListener("click",(function(){a.removeChild(c)}));var y=document.createElement("button");y.classList.add("button-confirm"),y.innerText=e.confirmText||t.confirmText,y.addEventListener("click",(function(){var t="".concat(d,"-").concat(s<10?"0".concat(s):s,"-").concat(l<10?"0".concat(l):l),n="".concat(m<10?"0".concat(m):m,":").concat(u<10?"0".concat(u):u,":").concat(p<10?"0".concat(p):p);"time"===e.type&&(o.value=n),"date-time"===e.type&&(o.value="".concat(t," ").concat(n)),e.dateTimeChange&&e.dateTimeChange("".concat(t," ").concat(n)),e.timeChange&&e.timeChange(n),a.removeChild(c)})),i.appendChild(v),i.appendChild(y),n.appendChild(r),n.appendChild(i)}(r,n),a.appendChild(n)}))};return t})()));