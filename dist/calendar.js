!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e,t,a){var c;return c=function(e,t){if("object"!=n(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var c=a.call(e,t||"default");if("object"!=n(c))return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(c)?c:String(c))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}e.r(t),e.d(t,{calendarInit:()=>r});var r=function(e){var t=document.body||document.querySelector("body"),n=document.querySelector(e.target);n.setAttribute("readonly","readonly"),e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"date",maskClosable:!0,cancelText:"取消",confirmText:"确认"},e);var r=(new Date).getFullYear(),o=(new Date).getMonth()+1,d=(new Date).getDate(),i=(new Date).getHours(),s=(new Date).getMinutes(),l=(new Date).getSeconds(),u=function(e,t){var n=new Date(e,t-1,1);return n.setMonth(n.getMonth()+1),n.setDate(0),n.getDate()},m=function(a){for(var c=function(c){var i=document.createElement("div");i.classList.add("item-day");var s=document.createElement("span");s.innerText=c,a.classNames&&s.classList.add(a.classNames),d===c&&r===a.year&&o===a.month&&s.classList.add("active"),s.addEventListener("click",(function(){d=c,r=a.year,o=a.month;var i=document.querySelector(".item-day .active");i&&i.classList.remove("active"),this.classList.add("active"),e.dayChange&&e.dayChange("".concat(r,"-").concat(o<10?"0".concat(o):o,"-").concat(d<10?"0".concat(d):d)),"date"===e.type&&(n.value="".concat(r,"-").concat(o<10?"0".concat(o):o,"-").concat(d<10?"0".concat(d):d),t.removeChild(a.dCalendar))})),i.appendChild(s),a.parentElem.appendChild(i)},i=a.startDay;i<=a.endDay;i++)c(i)},p=function(e,t,n,a){e.innerHTML='<div class="d-calendar-week"><span>一</span><span>二</span><span>三</span><span>四</span><span>五</span><span>六</span><span>日</span></div>',function(e,t,n,a){var c=new Date(n,a-1,1).getDay(),r=1===a?n-1:n,o=1===a?12:a-1,d=u(r,o);1!==c&&m({parentElem:e,dCalendar:t,startDay:d-(0===c?5:c-2),endDay:d,year:r,month:o,classNames:"prev"})}(e,t,n,a);var c=u(n,a);m({parentElem:e,dCalendar:t,startDay:1,endDay:c,year:r,month:o}),function(e,t,n,a){var c=new Date(n,a-1,1).getDay(),r=u(n,a);m({parentElem:e,dCalendar:t,startDay:1,endDay:42-r-(0===c?6:c-1),year:12===a?n+1:n,month:12===a?1:a+1,classNames:"next"})}(e,t,n,a)},v=function(a,c,d){a.innerHTML="";for(var i=function(i){var s=document.createElement("div");s.classList.add("item-month");var l=document.createElement("span");l.innerText="".concat(i,"月"),o===i&&l.classList.add("active"),l.addEventListener("click",(function(){o=i,d.innerText="".concat(o,"月");var s=document.querySelector(".item-month .active");s&&s.classList.remove("active"),this.classList.add("active"),"month"===e.type&&(n.value="".concat(r,"-").concat(o<10?"0".concat(o):o),t.removeChild(c)),e.monthChange&&e.monthChange("".concat(r,"-").concat(o<10?"0".concat(o):o)),["date","date-time"].includes(e.type)&&p(a,c,r,o)})),s.appendChild(l),a.appendChild(s)},s=1;s<=12;s++)i(s)},y=function(a,c,d,i,s,l){a.innerHTML="";for(var u=function(s){var l=document.createElement("div");l.classList.add("item-year");var u=document.createElement("span");u.innerText=s,r===s&&u.classList.add("active"),u.addEventListener("click",(function(){r=s,d.innerText="".concat(r,"年");var l=document.querySelector(".item-year .active");l&&l.classList.remove("active"),this.classList.add("active"),"year"===e.type&&(n.value="".concat(r),t.removeChild(c)),e.yearChange&&e.yearChange("".concat(r)),"month"===e.type&&v(a,c,i),["date","date-time"].includes(e.type)&&p(a,c,r,o)})),l.appendChild(u),a.appendChild(l)},m=s;m<=l;m++)u(m)},f=function(e,t,n,a){var c=document.createElement("div");c.classList.add("list");for(var r=0;r<t;r++){var o=document.createElement("div");o.classList.add("list-item"),o.innerText=r<10?"0".concat(r):r,c.appendChild(o)}c.style="transform: translateY(".concat(40*(1-n),"px);"),function(e,t,n,a,c){var r,o,d,i;e.addEventListener("touchstart",(function(e){r=e.touches[0].pageX,o=e.touches[0].pageY}),!1),e.addEventListener("touchmove",(function(c){var s=c.touches[0].pageX,l=c.touches[0].pageY;d=s-r,i=l-o,Math.abs(d)<=Math.abs(i)&&((a+=i)>n&&(a=n),a<(2-t)*n&&(a=(2-t)*n),e.style="transform: translateY(".concat(a,"px);"))}),!1),e.addEventListener("touchend",(function(t){a=Math.round(a/n)*n,e.style="transform: translateY(".concat(a,"px);"),r=o=d=i=0,c&&c(Math.abs(Math.round(a/n)-1))}),!1)}(c,t,40,40*(1-n),a),e.appendChild(c)};n.addEventListener("click",(function(){var a=document.createElement("div");a.classList.add("d-calendar");var c=document.createElement("div");c.classList.add("d-calendar-mask"),e.maskClosable&&c.addEventListener("click",(function(){t.removeChild(a)})),a.appendChild(c);var u=document.createElement("div");u.classList.add("d-calendar-container"),a.appendChild(u);var m=document.createElement("div");if(m.classList.add("d-calendar-header"),u.appendChild(m),["year","month","date"].includes(e.type)){var h=document.createElement("span");h.classList.add("d-calendar-close"),h.addEventListener("click",(function(){t.removeChild(a)})),m.appendChild(h)}if(["year","month","date","date-time"].includes(e.type)){var b=document.createElement("span");b.classList.add("d-calendar-year"),b.innerText="".concat(r,"年"),b.addEventListener("click",(function(){y(C,a,this,g,e.minYear||(new Date).getFullYear()-15,e.maxYear||(new Date).getFullYear()+4)})),m.appendChild(b);var g=document.createElement("span");"year"!==e.type&&(g.classList.add("d-calendar-month"),g.innerText="".concat(o,"月"),g.addEventListener("click",(function(){v(C,a,this)})),m.appendChild(g));var C=document.createElement("div");C.classList.add("d-calendar-content"),u.appendChild(C),"year"===e.type&&y(C,a,this,g,e.minYear||(new Date).getFullYear()-15,e.maxYear||(new Date).getFullYear()+4),"month"===e.type&&v(C,a,g),["date","date-time"].includes(e.type)&&p(C,a,r,o)}["time","date-time"].includes(e.type)&&function(a,c){var u=document.createElement("div");u.classList.add("d-calendar-time"),f(u,24,i,(function(e){i=e})),f(u,60,s,(function(e){s=e})),f(u,60,l,(function(e){l=e}));var m=document.createElement("div");m.classList.add("d-calendar-footer");var p=document.createElement("button");p.classList.add("button-close"),p.innerText=e.cancelText,p.addEventListener("click",(function(){t.removeChild(c)}));var v=document.createElement("button");v.classList.add("button-confirm"),v.innerText=e.confirmText,v.addEventListener("click",(function(){var a="".concat(r,"-").concat(o<10?"0".concat(o):o,"-").concat(d<10?"0".concat(d):d),u="".concat(i<10?"0".concat(i):i,":").concat(s<10?"0".concat(s):s,":").concat(l<10?"0".concat(l):l);"time"===e.type&&(n.value=u),"date-time"===e.type&&(n.value="".concat(a," ").concat(u)),e.dateTimeChange&&e.dateTimeChange("".concat(a," ").concat(u)),e.timeChange&&e.timeChange(u),t.removeChild(c)})),m.appendChild(p),m.appendChild(v),a.appendChild(u),a.appendChild(m)}(u,a),t.appendChild(a)}))};return t})()));